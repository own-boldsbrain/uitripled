{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "gallery-grid-block",
  "type": "registry:block",
  "title": "Grade de Galeria com Lightbox",
  "description": "Galeria de imagens filtrável com lightbox animado e navegação",
  "registryDependencies": [
    "badge",
    "button",
    "card"
  ],
  "dependencies": [
    "framer-motion",
    "lucide-react",
    "react"
  ],
  "files": [
    {
      "path": "components/sections/gallery-grid-block.tsx",
      "content": "\"use client\";\r\n\r\nimport { useState, KeyboardEvent } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { X, ZoomIn, ChevronLeft, ChevronRight, Grid } from \"lucide-react\";\r\n\r\nconst galleryImages = [\r\n  {\r\n    id: 1,\r\n    url: \"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?w=500\",\r\n    title: \"Abstract Architecture\",\r\n    category: \"Architecture\",\r\n  },\r\n  {\r\n    id: 2,\r\n    url: \"https://images.unsplash.com/photo-1618556450994-a6a128ef0d9d?w=500\",\r\n    title: \"Modern Design\",\r\n    category: \"Design\",\r\n  },\r\n  {\r\n    id: 3,\r\n    url: \"https://images.unsplash.com/photo-1618005198919-d3d4b5a92ead?w=500\",\r\n    title: \"Urban Landscape\",\r\n    category: \"Nature\",\r\n  },\r\n  {\r\n    id: 4,\r\n    url: \"https://images.unsplash.com/photo-1634017839464-5c339ebe3cb4?w=500\",\r\n    title: \"Digital Art\",\r\n    category: \"Art\",\r\n  },\r\n  {\r\n    id: 5,\r\n    url: \"https://images.unsplash.com/photo-1618556450991-2f1af64e8191?w=500\",\r\n    title: \"Creative Space\",\r\n    category: \"Architecture\",\r\n  },\r\n  {\r\n    id: 6,\r\n    url: \"https://images.unsplash.com/photo-1618005198919-d3d4b5a92ead?w=500\",\r\n    title: \"Minimalist View\",\r\n    category: \"Design\",\r\n  },\r\n];\r\n\r\nexport function GalleryGridBlock() {\r\n  const [selectedImage, setSelectedImage] = useState<number | null>(null);\r\n  const [filter, setFilter] = useState<string>(\"All\");\r\n\r\n  const categories = [\r\n    \"All\",\r\n    ...new Set(galleryImages.map((img) => img.category)),\r\n  ];\r\n\r\n  const filteredImages =\r\n    filter === \"All\"\r\n      ? galleryImages\r\n      : galleryImages.filter((img) => img.category === filter);\r\n\r\n  const handleNext = () => {\r\n    if (selectedImage !== null) {\r\n      const currentIndex = galleryImages.findIndex(\r\n        (img) => img.id === selectedImage\r\n      );\r\n      const nextIndex = (currentIndex + 1) % galleryImages.length;\r\n      setSelectedImage(galleryImages[nextIndex].id);\r\n    }\r\n  };\r\n\r\n  const handlePrev = () => {\r\n    if (selectedImage !== null) {\r\n      const currentIndex = galleryImages.findIndex(\r\n        (img) => img.id === selectedImage\r\n      );\r\n      const prevIndex =\r\n        (currentIndex - 1 + galleryImages.length) % galleryImages.length;\r\n      setSelectedImage(galleryImages[prevIndex].id);\r\n    }\r\n  };\r\n\r\n  const selectedImageData = galleryImages.find(\r\n    (img) => img.id === selectedImage\r\n  );\r\n\r\n  const handleCardKeyDown = (\r\n    event: KeyboardEvent<HTMLDivElement>,\r\n    imageId: number\r\n  ) => {\r\n    if (event.key === \"Enter\" || event.key === \" \") {\r\n      event.preventDefault();\r\n      setSelectedImage(imageId);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className=\"w-full bg-background px-4 py-16\"\r\n      aria-labelledby=\"gallery-heading\"\r\n    >\r\n      <div className=\"mx-auto max-w-7xl\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"mb-12 text-center\"\r\n          role=\"region\"\r\n          aria-labelledby=\"gallery-heading\"\r\n        >\r\n          <Badge className=\"mb-4\" variant=\"secondary\">\r\n            <Grid className=\"mr-1 h-3 w-3\" />\r\n            Gallery\r\n          </Badge>\r\n          <h2\r\n            id=\"gallery-heading\"\r\n            className=\"mb-4 text-4xl font-bold tracking-tight\"\r\n          >\r\n            Our Portfolio\r\n          </h2>\r\n          <p className=\"mx-auto max-w-2xl text-muted-foreground\">\r\n            Explore our collection of stunning visuals and creative work\r\n          </p>\r\n        </motion.div>\r\n\r\n        {/* Filter Buttons */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.2 }}\r\n          className=\"mb-8 flex flex-wrap justify-center gap-2\"\r\n          role=\"group\"\r\n          aria-label=\"Gallery categories\"\r\n        >\r\n          {categories.map((category) => (\r\n            <Button\r\n              key={category}\r\n              variant={filter === category ? \"default\" : \"outline\"}\r\n              size=\"sm\"\r\n              onClick={() => setFilter(category)}\r\n              aria-pressed={filter === category}\r\n            >\r\n              {category}\r\n            </Button>\r\n          ))}\r\n        </motion.div>\r\n\r\n        {/* Gallery Grid */}\r\n        <motion.div\r\n          layout\r\n          className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\"\r\n          role=\"list\"\r\n          aria-label=\"Gallery items\"\r\n        >\r\n          <AnimatePresence mode=\"popLayout\">\r\n            {filteredImages.map((image, index) => (\r\n              <motion.div\r\n                key={image.id}\r\n                layout\r\n                initial={{ opacity: 0, scale: 0.8 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.8 }}\r\n                transition={{ duration: 0.3, delay: index * 0.05 }}\r\n                role=\"listitem\"\r\n              >\r\n                <Card\r\n                  className=\"group relative cursor-pointer overflow-hidden border-border transition-all hover:border-ring hover:shadow-xl\"\r\n                  onClick={() => setSelectedImage(image.id)}\r\n                  onKeyDown={(event) => handleCardKeyDown(event, image.id)}\r\n                  role=\"button\"\r\n                  tabIndex={0}\r\n                  aria-label={`View details for ${image.title}`}\r\n                >\r\n                  <div className=\"relative aspect-square overflow-hidden\">\r\n                    <motion.img\r\n                      src={image.url}\r\n                      alt={image.title}\r\n                      className=\"h-full w-full object-cover\"\r\n                      whileHover={{ scale: 1.1 }}\r\n                      transition={{ duration: 0.3 }}\r\n                    />\r\n\r\n                    {/* Overlay */}\r\n                    <motion.div\r\n                      initial={{ opacity: 0 }}\r\n                      whileHover={{ opacity: 1 }}\r\n                      transition={{ duration: 0.2 }}\r\n                      className=\"absolute inset-0 flex flex-col items-center justify-center bg-black/60 backdrop-blur-sm\"\r\n                      aria-hidden=\"true\"\r\n                    >\r\n                      <ZoomIn className=\"mb-2 h-8 w-8 text-[var(--muted-foreground)]\" />\r\n                      <h3 className=\"mb-1 text-center text-lg font-semibold text-[var(--muted-foreground)]\">\r\n                        {image.title}\r\n                      </h3>\r\n                      <Badge variant=\"secondary\">{image.category}</Badge>\r\n                    </motion.div>\r\n                  </div>\r\n                </Card>\r\n              </motion.div>\r\n            ))}\r\n          </AnimatePresence>\r\n        </motion.div>\r\n\r\n        {/* Lightbox */}\r\n        <AnimatePresence>\r\n          {selectedImage !== null && selectedImageData && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4\"\r\n              onClick={() => setSelectedImage(null)}\r\n              role=\"dialog\"\r\n              aria-modal=\"true\"\r\n              aria-labelledby=\"gallery-dialog-title\"\r\n              aria-describedby=\"gallery-dialog-description\"\r\n            >\r\n              <motion.div\r\n                initial={{ scale: 0.8, opacity: 0 }}\r\n                animate={{ scale: 1, opacity: 1 }}\r\n                exit={{ scale: 0.8, opacity: 0 }}\r\n                transition={{ type: \"spring\", damping: 25, stiffness: 300 }}\r\n                onClick={(e) => e.stopPropagation()}\r\n                className=\"relative max-h-[90vh] max-w-5xl\"\r\n              >\r\n                {/* Close Button */}\r\n                <Button\r\n                  size=\"icon\"\r\n                  variant=\"ghost\"\r\n                  className=\"absolute -right-12 top-0 text-[var(--muted-foreground)] hover:bg-white/10\"\r\n                  onClick={() => setSelectedImage(null)}\r\n                  aria-label=\"Close gallery dialog\"\r\n                >\r\n                  <X className=\"h-6 w-6\" />\r\n                </Button>\r\n\r\n                {/* Navigation Buttons */}\r\n                <Button\r\n                  size=\"icon\"\r\n                  variant=\"ghost\"\r\n                  className=\"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--muted-foreground)] hover:bg-white/10\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handlePrev();\r\n                  }}\r\n                  aria-label=\"View previous image\"\r\n                >\r\n                  <ChevronLeft className=\"h-8 w-8\" />\r\n                </Button>\r\n                <Button\r\n                  size=\"icon\"\r\n                  variant=\"ghost\"\r\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--muted-foreground)] hover:bg-white/10\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleNext();\r\n                  }}\r\n                  aria-label=\"View next image\"\r\n                >\r\n                  <ChevronRight className=\"h-8 w-8\" />\r\n                </Button>\r\n\r\n                {/* Image */}\r\n                <motion.img\r\n                  key={selectedImage}\r\n                  src={selectedImageData.url}\r\n                  alt={selectedImageData.title}\r\n                  className=\"max-h-[80vh] w-auto rounded-lg\"\r\n                  initial={{ opacity: 0 }}\r\n                  animate={{ opacity: 1 }}\r\n                  transition={{ duration: 0.2 }}\r\n                />\r\n\r\n                {/* Image Info */}\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: 0.1 }}\r\n                  className=\"mt-4 text-center text-[var(--muted-foreground)]\"\r\n                  id=\"gallery-dialog-description\"\r\n                >\r\n                  <h3\r\n                    className=\"mb-2 text-xl font-semibold\"\r\n                    id=\"gallery-dialog-title\"\r\n                  >\r\n                    {selectedImageData.title}\r\n                  </h3>\r\n                  <Badge variant=\"secondary\">\r\n                    {selectedImageData.category}\r\n                  </Badge>\r\n                </motion.div>\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n",
      "type": "registry:block",
      "target": "components/sections/gallery-grid-block"
    }
  ]
}