{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "reactive-background-grid",
  "type": "registry:ui",
  "title": "Grade de Fundo Reativa",
  "description": "Padrão de fundo que reage ao movimento do mouse e ondulações de clique",
  "dependencies": [
    "framer-motion",
    "react"
  ],
  "files": [
    {
      "path": "components/motion-core/reactive-background-grid.tsx",
      "content": "\"use client\";\r\n\r\nimport { useState, MouseEvent } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ntype ReactiveBackgroundGridProps = {\r\n  dots?: boolean;\r\n  density?: number;\r\n};\r\n\r\nexport function ReactiveBackgroundGrid({\r\n  dots = true,\r\n  density = 20,\r\n}: ReactiveBackgroundGridProps) {\r\n  const [ripples, setRipples] = useState<\r\n    Array<{ id: number; x: number; y: number }>\r\n  >([]);\r\n  const [hoveredDot, setHoveredDot] = useState<{ x: number; y: number } | null>(\r\n    null\r\n  );\r\n\r\n  const handleClick = (e: MouseEvent<HTMLDivElement>) => {\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    const newRipple = {\r\n      id: Date.now(),\r\n      x,\r\n      y,\r\n    };\r\n\r\n    setRipples((prev) => [...prev, newRipple]);\r\n    setTimeout(() => {\r\n      setRipples((prev) => prev.filter((r) => r.id !== newRipple.id));\r\n    }, 600);\r\n  };\r\n\r\n  const [containerSize, setContainerSize] = useState({\r\n    width: 400,\r\n    height: 400,\r\n  });\r\n\r\n  const handleMouseMove = (e: MouseEvent<HTMLDivElement>) => {\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    setHoveredDot({ x, y });\r\n    setContainerSize({ width: rect.width, height: rect.height });\r\n  };\r\n\r\n  const gridSize = density;\r\n  const dotsArray = Array.from({ length: gridSize * gridSize });\r\n\r\n  return (\r\n    <div\r\n      onClick={handleClick}\r\n      onMouseMove={handleMouseMove}\r\n      onMouseLeave={() => setHoveredDot(null)}\r\n      className=\"relative h-96 w-full overflow-hidden rounded-2xl border border-border bg-card\"\r\n    >\r\n      <div\r\n        className=\"absolute inset-0\"\r\n        style={{\r\n          backgroundImage: dots\r\n            ? \"radial-gradient(circle, currentColor 1px, transparent 1px)\"\r\n            : \"linear-gradient(to right, currentColor 1px, transparent 1px), linear-gradient(to bottom, currentColor 1px, transparent 1px)\",\r\n          backgroundSize: `${100 / gridSize}% ${100 / gridSize}%`,\r\n          backgroundPosition: \"0 0\",\r\n          color: \"rgba(99, 102, 241, 0.1)\",\r\n        }}\r\n      />\r\n\r\n      {dots &&\r\n        dotsArray.map((_, index) => {\r\n          const row = Math.floor(index / gridSize);\r\n          const col = index % gridSize;\r\n          const x = (col / gridSize) * 100;\r\n          const y = (row / gridSize) * 100;\r\n\r\n          const distance = hoveredDot\r\n            ? Math.sqrt(\r\n                Math.pow(x - (hoveredDot.x / containerSize.width) * 100, 2) +\r\n                  Math.pow(y - (hoveredDot.y / containerSize.height) * 100, 2)\r\n              )\r\n            : Infinity;\r\n\r\n          const scale = hoveredDot && distance < 30 ? 1.5 : 1;\r\n          const opacity = hoveredDot && distance < 30 ? 0.6 : 0.2;\r\n\r\n          return (\r\n            <motion.div\r\n              key={index}\r\n              animate={{\r\n                scale,\r\n                opacity,\r\n              }}\r\n              transition={{\r\n                type: \"spring\",\r\n                stiffness: 300,\r\n                damping: 25,\r\n              }}\r\n              className=\"absolute rounded-full bg-primary\"\r\n              style={{\r\n                left: `${x}%`,\r\n                top: `${y}%`,\r\n                width: \"4px\",\r\n                height: \"4px\",\r\n                transform: \"translate(-50%, -50%)\",\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n\r\n      <AnimatePresence>\r\n        {ripples.map((ripple) => (\r\n          <motion.div\r\n            key={ripple.id}\r\n            initial={{ scale: 0, opacity: 0.8 }}\r\n            animate={{ scale: 4, opacity: 0 }}\r\n            exit={{ scale: 4, opacity: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n            className=\"absolute rounded-full border-2 border-primary\"\r\n            style={{\r\n              left: ripple.x,\r\n              top: ripple.y,\r\n              width: \"100px\",\r\n              height: \"100px\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            }}\r\n          />\r\n        ))}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/motion-core/reactive-background-grid"
    }
  ]
}