{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-glow-input",
  "type": "registry:component",
  "title": "Campo de Entrada com Brilho IA",
  "description": "Campo de entrada com brilho dinÃ¢mico que pulsa com base na velocidade de digitaÃ§Ã£o - feedback de movimento inteligente",
  "registryDependencies": [
    "button"
  ],
  "dependencies": [
    "framer-motion",
    "react"
  ],
  "files": [
    {
      "path": "components/motion-core/ai-glow-input.tsx",
      "content": "\"use client\";\r\n\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport {\r\n  motion,\r\n  useMotionValue,\r\n  useSpring,\r\n  useReducedMotion,\r\n} from \"framer-motion\";\r\nimport { useTheme } from \"@/components/theme-provider\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype AIGlowInputProps = {\r\n  placeholder?: string;\r\n  onValueChange?: (value: string) => void;\r\n  glowColor?: string;\r\n};\r\n\r\ntype Particle = {\r\n  left: string;\r\n  top: string;\r\n  delay: number;\r\n};\r\n\r\nexport function AIGlowInput({\r\n  placeholder = \"Ask AI anythingâ€¦\",\r\n  onValueChange,\r\n  glowColor,\r\n}: AIGlowInputProps) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [glowIntensity, setGlowIntensity] = useState(0.3);\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const lastTypingTime = useRef(Date.now());\r\n  const typingSpeed = useMotionValue(0);\r\n  const glowIntensityMotion = useMotionValue(0.3);\r\n  const shouldReduceMotion = useReducedMotion();\r\n  const { resolvedTheme } = useTheme();\r\n  const isDarkMode = resolvedTheme === \"dark\";\r\n\r\n  const effectiveGlowColor = useMemo(() => {\r\n    if (glowColor) {\r\n      return glowColor;\r\n    }\r\n    return isDarkMode ? \"#d1d5db\" : \"#ddd\";\r\n  }, [glowColor, isDarkMode]);\r\n\r\n  const particles = useMemo<Particle[]>(\r\n    () =>\r\n      Array.from({ length: 6 }).map(() => ({\r\n        left: `${Math.random() * 100}%`,\r\n        top: `${Math.random() * 100}%`,\r\n        delay: Math.random() * 1.8,\r\n      })),\r\n    []\r\n  );\r\n\r\n  const springIntensity = useSpring(glowIntensityMotion, {\r\n    stiffness: 420,\r\n    damping: 32,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = springIntensity.on(\"change\", (latest) => {\r\n      setGlowIntensity(latest as number);\r\n    });\r\n    return () => unsubscribe();\r\n  }, [springIntensity]);\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newValue = event.target.value;\r\n    setValue(newValue);\r\n    onValueChange?.(newValue);\r\n\r\n    const now = Date.now();\r\n    const timeSinceLastType = now - lastTypingTime.current;\r\n    lastTypingTime.current = now;\r\n\r\n    const speed = Math.min(1, 1000 / (timeSinceLastType || 1));\r\n    typingSpeed.set(speed);\r\n\r\n    const baseIntensity = 0.28;\r\n    const dynamicIntensity = baseIntensity + speed * 0.72;\r\n    glowIntensityMotion.set(dynamicIntensity);\r\n\r\n    if (timeSinceLastType > 500) {\r\n      glowIntensityMotion.set(baseIntensity);\r\n    }\r\n  };\r\n\r\n  const handleFocus = () => {\r\n    setIsFocused(true);\r\n    glowIntensityMotion.set(0.58);\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    setIsFocused(false);\r\n    glowIntensityMotion.set(value ? 0.4 : 0.3);\r\n  };\r\n\r\n  const hexToRgb = (hex: string) => {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result\r\n      ? {\r\n          r: parseInt(result[1], 16),\r\n          g: parseInt(result[2], 16),\r\n          b: parseInt(result[3], 16),\r\n        }\r\n      : { r: 209, g: 213, b: 219 };\r\n  };\r\n\r\n  const rgb = hexToRgb(effectiveGlowColor);\r\n  const shadowBlur = shouldReduceMotion ? 0 : glowIntensity * 42;\r\n  const glowShadowAlpha = isDarkMode\r\n    ? glowIntensity * 0.55\r\n    : glowIntensity * 0.35;\r\n  const particleColor = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${isDarkMode ? 0.26 : 0.16})`;\r\n\r\n  return (\r\n    <section className=\"relative w-full max-w-lg\">\r\n      <div aria-hidden className=\"pointer-events-none absolute inset-0 -z-10\">\r\n        <motion.div\r\n          className={cn(\r\n            \"absolute -top-24 left-1/2 h-48 w-48 -translate-x-1/2 rounded-full blur-[140px]\",\r\n            isDarkMode ? \"bg-white/15\" : \"bg-[#ddd]\"\r\n          )}\r\n          animate={\r\n            shouldReduceMotion\r\n              ? undefined\r\n              : { opacity: [0.25, 0.5, 0.25], scale: [0.9, 1.05, 0.95] }\r\n          }\r\n          transition={\r\n            shouldReduceMotion\r\n              ? undefined\r\n              : { duration: 9, repeat: Infinity, ease: \"easeInOut\" }\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <label className=\"relative block rounded-2xl bg-card/80\">\r\n        <div className=\"relative overflow-hidden rounded-[calc(theme(borderRadius.2xl)-0.25rem)]\">\r\n          <motion.div\r\n            aria-hidden\r\n            className=\"absolute inset-0 pointer-events-none\"\r\n            style={{\r\n              background: `radial-gradient(circle,\r\n                rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${glowIntensity}) 0%,\r\n                rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${glowIntensity * 0.35}) 50%,\r\n                transparent 100%)`,\r\n              filter: \"blur(28px)\",\r\n            }}\r\n            animate={\r\n              shouldReduceMotion\r\n                ? { scale: 1 }\r\n                : { scale: isFocused ? [1, 1.05, 1] : 1 }\r\n            }\r\n            transition={\r\n              shouldReduceMotion\r\n                ? { duration: 0 }\r\n                : {\r\n                    duration: 2.2,\r\n                    repeat: isFocused ? Infinity : 0,\r\n                    ease: \"easeInOut\",\r\n                  }\r\n            }\r\n          />\r\n\r\n          <input\r\n            type=\"text\"\r\n            value={value}\r\n            onChange={handleChange}\r\n            onFocus={handleFocus}\r\n            onBlur={handleBlur}\r\n            placeholder={placeholder}\r\n            aria-label={placeholder}\r\n            className={cn(\r\n              \"relative w-full rounded-[calc(theme(borderRadius.2xl)-0.25rem)] border border-border/60 px-6 py-4 text-base placeholder:text-muted-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background transition-colors\",\r\n              isDarkMode\r\n                ? \"bg-white/5 text-muted-foreground focus-visible:ring-white/40\"\r\n                : \"bg-white/90 text-foreground focus-visible:ring-[#ddd]\"\r\n            )}\r\n            style={{\r\n              boxShadow: `0 0 ${shadowBlur}px rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${glowShadowAlpha})`,\r\n            }}\r\n          />\r\n\r\n          {value && isFocused && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: shouldReduceMotion ? 0 : -8 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: shouldReduceMotion ? 0 : -8 }}\r\n              className=\"absolute -bottom-9 left-0 text-xs text-muted-foreground\"\r\n            >\r\n              <motion.span\r\n                animate={\r\n                  shouldReduceMotion\r\n                    ? { opacity: 1 }\r\n                    : { opacity: [0.4, 1, 0.4] }\r\n                }\r\n                transition={\r\n                  shouldReduceMotion\r\n                    ? { duration: 0 }\r\n                    : { duration: 1.1, repeat: Infinity, ease: \"easeInOut\" }\r\n                }\r\n              >\r\n                {glowIntensity > 0.8\r\n                  ? \"âš¡ Fast typing!\"\r\n                  : glowIntensity > 0.5\r\n                    ? \"ðŸŽ¯ Active\"\r\n                    : \"âœ¨ Ready\"}\r\n              </motion.span>\r\n            </motion.div>\r\n          )}\r\n\r\n          {isFocused && (\r\n            <motion.div\r\n              aria-hidden\r\n              className=\"pointer-events-none absolute inset-0 rounded-[calc(theme(borderRadius.2xl)-0.25rem)]\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              style={{\r\n                background: `linear-gradient(135deg,\r\n                  transparent 0%,\r\n                  rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.12) 50%,\r\n                  transparent 100%)`,\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </label>\r\n\r\n      <div className=\"pointer-events-none absolute inset-0 overflow-hidden rounded-2xl\">\r\n        {particles.map((particle, index) => (\r\n          <motion.span\r\n            key={index}\r\n            className=\"absolute h-1 w-1 rounded-full\"\r\n            style={{\r\n              left: particle.left,\r\n              top: particle.top,\r\n              backgroundColor: particleColor,\r\n            }}\r\n            animate={\r\n              shouldReduceMotion\r\n                ? { opacity: 0.25 }\r\n                : {\r\n                    y: [0, -24, 0],\r\n                    opacity: [0.15, 0.5, 0.15],\r\n                  }\r\n            }\r\n            transition={\r\n              shouldReduceMotion\r\n                ? { duration: 0 }\r\n                : {\r\n                    duration: 3,\r\n                    repeat: Infinity,\r\n                    delay: particle.delay,\r\n                    ease: \"easeInOut\",\r\n                  }\r\n            }\r\n          />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/motion-core/ai-glow-input"
    }
  ]
}