{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "glowy-waves-hero",
  "type": "registry:block",
  "title": "Hero com Ondas Brilhantes",
  "description": "Seção hero com efeito de ondas brilhantes",
  "registryDependencies": [
    "button"
  ],
  "dependencies": [
    "framer-motion",
    "lucide-react",
    "react"
  ],
  "files": [
    {
      "path": "components/sections/glowy-waves-hero.tsx",
      "content": "\"use client\";\r\n\r\nimport { useEffect, useRef } from \"react\";\r\nimport { motion, type Variants } from \"framer-motion\";\r\nimport { ArrowRight, Sparkles } from \"lucide-react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ntype Point = {\r\n  x: number;\r\n  y: number;\r\n};\r\n\r\ninterface WaveConfig {\r\n  offset: number;\r\n  amplitude: number;\r\n  frequency: number;\r\n  color: string;\r\n  opacity: number;\r\n}\r\n\r\nconst highlightPills = [\r\n  \"Immersive visuals\",\r\n  \"Responsive motion\",\r\n  \"GPU friendly\",\r\n] as const;\r\n\r\nconst heroStats: { label: string; value: string }[] = [\r\n  { label: \"Live installations\", value: \"320+\" },\r\n  { label: \"Latency\", value: \"8ms\" },\r\n  { label: \"Teams onboarded\", value: \"120+\" },\r\n];\r\n\r\nconst containerVariants: Variants = {\r\n  hidden: { opacity: 0, y: 24 },\r\n  visible: {\r\n    opacity: 1,\r\n    y: 0,\r\n    transition: { duration: 0.8, staggerChildren: 0.12 },\r\n  },\r\n};\r\n\r\nconst itemVariants: Variants = {\r\n  hidden: { opacity: 0, y: 24 },\r\n  visible: {\r\n    opacity: 1,\r\n    y: 0,\r\n    transition: { duration: 0.6, ease: \"easeOut\" },\r\n  },\r\n};\r\n\r\nconst statsVariants: Variants = {\r\n  hidden: { opacity: 0, scale: 0.95 },\r\n  visible: {\r\n    opacity: 1,\r\n    scale: 1,\r\n    transition: { duration: 0.6, ease: \"easeOut\", staggerChildren: 0.08 },\r\n  },\r\n};\r\n\r\nexport function GlowyWavesHero() {\r\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n  const mouseRef = useRef<Point>({ x: 0, y: 0 });\r\n  const targetMouseRef = useRef<Point>({ x: 0, y: 0 });\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return undefined;\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    if (!ctx) return undefined;\r\n\r\n    let animationId: number;\r\n    let time = 0;\r\n\r\n    const computeThemeColors = () => {\r\n      const rootStyles = getComputedStyle(document.documentElement);\r\n\r\n      // Helper to convert any CSS color to a Canvas-compatible format\r\n      const resolveColor = (variables: string[], alpha = 1) => {\r\n        // Create a temporary element to get computed color\r\n        const tempEl = document.createElement(\"div\");\r\n        tempEl.style.position = \"absolute\";\r\n        tempEl.style.visibility = \"hidden\";\r\n        tempEl.style.width = \"1px\";\r\n        tempEl.style.height = \"1px\";\r\n        document.body.appendChild(tempEl);\r\n\r\n        let color = `rgba(255, 255, 255, ${alpha})`;\r\n\r\n        for (const variable of variables) {\r\n          const value = rootStyles.getPropertyValue(variable).trim();\r\n          if (value) {\r\n            // Try to set the background color using the CSS variable\r\n            tempEl.style.backgroundColor = `var(${variable})`;\r\n            const computedColor = getComputedStyle(tempEl).backgroundColor;\r\n\r\n            if (computedColor && computedColor !== \"rgba(0, 0, 0, 0)\") {\r\n              // Convert RGB to RGBA with alpha if needed\r\n              if (alpha < 1) {\r\n                const rgbMatch = computedColor.match(\r\n                  /rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*[\\d.]+)?\\)/\r\n                );\r\n                if (rgbMatch) {\r\n                  color = `rgba(${rgbMatch[1]}, ${rgbMatch[2]}, ${rgbMatch[3]}, ${alpha})`;\r\n                } else {\r\n                  color = computedColor;\r\n                }\r\n              } else {\r\n                color = computedColor;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        document.body.removeChild(tempEl);\r\n        return color;\r\n      };\r\n\r\n      return {\r\n        backgroundTop: resolveColor([\"--background\"], 1),\r\n        backgroundBottom: resolveColor([\"--muted\", \"--background\"], 0.95),\r\n        wavePalette: [\r\n          {\r\n            offset: 0,\r\n            amplitude: 70,\r\n            frequency: 0.003,\r\n            color: resolveColor([\"--primary\"], 0.8),\r\n            opacity: 0.45,\r\n          },\r\n          {\r\n            offset: Math.PI / 2,\r\n            amplitude: 90,\r\n            frequency: 0.0026,\r\n            color: resolveColor([\"--accent\", \"--primary\"], 0.7),\r\n            opacity: 0.35,\r\n          },\r\n          {\r\n            offset: Math.PI,\r\n            amplitude: 60,\r\n            frequency: 0.0034,\r\n            color: resolveColor([\"--secondary\", \"--foreground\"], 0.65),\r\n            opacity: 0.3,\r\n          },\r\n          {\r\n            offset: Math.PI * 1.5,\r\n            amplitude: 80,\r\n            frequency: 0.0022,\r\n            color: resolveColor([\"--primary-foreground\", \"--foreground\"], 0.25),\r\n            opacity: 0.25,\r\n          },\r\n          {\r\n            offset: Math.PI * 2,\r\n            amplitude: 55,\r\n            frequency: 0.004,\r\n            color: resolveColor([\"--foreground\"], 0.2),\r\n            opacity: 0.2,\r\n          },\r\n        ] satisfies WaveConfig[],\r\n      };\r\n    };\r\n\r\n    let themeColors = computeThemeColors();\r\n\r\n    const handleThemeMutation = () => {\r\n      themeColors = computeThemeColors();\r\n    };\r\n\r\n    const observer = new MutationObserver(handleThemeMutation);\r\n    observer.observe(document.documentElement, {\r\n      attributes: true,\r\n      attributeFilter: [\"class\", \"data-theme\"],\r\n    });\r\n\r\n    const prefersReducedMotion = window.matchMedia(\r\n      \"(prefers-reduced-motion: reduce)\"\r\n    ).matches;\r\n\r\n    const mouseInfluence = prefersReducedMotion ? 10 : 70;\r\n    const influenceRadius = prefersReducedMotion ? 160 : 320;\r\n    const smoothing = prefersReducedMotion ? 0.04 : 0.1;\r\n\r\n    const resizeCanvas = () => {\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n    };\r\n\r\n    const recenterMouse = () => {\r\n      const centerPoint = { x: canvas.width / 2, y: canvas.height / 2 };\r\n      mouseRef.current = centerPoint;\r\n      targetMouseRef.current = centerPoint;\r\n    };\r\n\r\n    const handleResize = () => {\r\n      resizeCanvas();\r\n      recenterMouse();\r\n    };\r\n\r\n    const handleMouseMove = (event: MouseEvent) => {\r\n      targetMouseRef.current = { x: event.clientX, y: event.clientY };\r\n    };\r\n\r\n    const handleMouseLeave = () => {\r\n      recenterMouse();\r\n    };\r\n\r\n    resizeCanvas();\r\n    recenterMouse();\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n    window.addEventListener(\"mouseleave\", handleMouseLeave);\r\n\r\n    const drawWave = (wave: WaveConfig) => {\r\n      ctx.save();\r\n      ctx.beginPath();\r\n\r\n      for (let x = 0; x <= canvas.width; x += 4) {\r\n        const dx = x - mouseRef.current.x;\r\n        const dy = canvas.height / 2 - mouseRef.current.y;\r\n        const distance = Math.sqrt(dx * dx + dy * dy);\r\n        const influence = Math.max(0, 1 - distance / influenceRadius);\r\n        const mouseEffect =\r\n          influence *\r\n          mouseInfluence *\r\n          Math.sin(time * 0.001 + x * 0.01 + wave.offset);\r\n\r\n        const y =\r\n          canvas.height / 2 +\r\n          Math.sin(x * wave.frequency + time * 0.002 + wave.offset) *\r\n            wave.amplitude +\r\n          Math.sin(x * wave.frequency * 0.4 + time * 0.003) *\r\n            (wave.amplitude * 0.45) +\r\n          mouseEffect;\r\n\r\n        if (x === 0) {\r\n          ctx.moveTo(x, y);\r\n        } else {\r\n          ctx.lineTo(x, y);\r\n        }\r\n      }\r\n\r\n      ctx.lineWidth = 2.5;\r\n      ctx.strokeStyle = wave.color;\r\n      ctx.globalAlpha = wave.opacity;\r\n      ctx.shadowBlur = 35;\r\n      ctx.shadowColor = wave.color;\r\n      ctx.stroke();\r\n\r\n      ctx.restore();\r\n    };\r\n\r\n    const animate = () => {\r\n      time += 1;\r\n\r\n      mouseRef.current.x +=\r\n        (targetMouseRef.current.x - mouseRef.current.x) * smoothing;\r\n      mouseRef.current.y +=\r\n        (targetMouseRef.current.y - mouseRef.current.y) * smoothing;\r\n\r\n      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n      gradient.addColorStop(0, themeColors.backgroundTop);\r\n      gradient.addColorStop(1, themeColors.backgroundBottom);\r\n\r\n      ctx.fillStyle = gradient;\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n      ctx.globalAlpha = 1;\r\n      ctx.shadowBlur = 0;\r\n\r\n      themeColors.wavePalette.forEach(drawWave);\r\n\r\n      animationId = window.requestAnimationFrame(animate);\r\n    };\r\n\r\n    animationId = window.requestAnimationFrame(animate);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      window.removeEventListener(\"mousemove\", handleMouseMove);\r\n      window.removeEventListener(\"mouseleave\", handleMouseLeave);\r\n      cancelAnimationFrame(animationId);\r\n      observer.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <section\r\n      className=\"relative isolate flex min-h-screen w-full items-center justify-center overflow-hidden bg-background\"\r\n      role=\"region\"\r\n      aria-label=\"Glowing waves hero section\"\r\n    >\r\n      <canvas\r\n        ref={canvasRef}\r\n        className=\"absolute inset-0 h-full w-full\"\r\n        aria-hidden=\"true\"\r\n      />\r\n\r\n      <div className=\"absolute inset-0 -z-10 pointer-events-none\">\r\n        <div className=\"absolute left-1/2 top-0 h-[520px] w-[520px] -translate-x-1/2 rounded-full bg-foreground/[0.035] blur-[140px] dark:bg-foreground/[0.06]\" />\r\n        <div className=\"absolute bottom-0 right-0 h-[360px] w-[360px] rounded-full bg-foreground/[0.025] blur-[120px] dark:bg-foreground/[0.05]\" />\r\n        <div className=\"absolute top-1/2 left-1/4 h-[400px] w-[400px] rounded-full bg-primary/[0.02] blur-[150px] dark:bg-primary/[0.05]\" />\r\n      </div>\r\n\r\n      <div className=\"relative z-10 mx-auto flex w-full max-w-6xl flex-col items-center px-6 py-24 text-center md:px-8 lg:px-12\">\r\n        <motion.div\r\n          variants={containerVariants}\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          className=\"w-full\"\r\n        >\r\n          <motion.div\r\n            variants={itemVariants}\r\n            className=\"mb-6 inline-flex items-center gap-2 rounded-full border border-border/40 bg-background/60 px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-foreground/70 dark:border-border/60 dark:bg-background/70 dark:text-foreground/80\"\r\n          >\r\n            <Sparkles className=\"h-4 w-4 text-primary\" aria-hidden=\"true\" />\r\n            Reactive canvas hero\r\n          </motion.div>\r\n\r\n          <motion.h1\r\n            variants={itemVariants}\r\n            className=\"mb-6 text-4xl font-semibold tracking-tight text-foreground md:text-6xl lg:text-7xl\"\r\n          >\r\n            Welcome to immersive{\" \"}\r\n            <span className=\"bg-gradient-to-r from-primary via-primary/60 to-foreground/80 bg-clip-text text-transparent\">\r\n              realtime playgrounds\r\n            </span>\r\n          </motion.h1>\r\n\r\n          <motion.p\r\n            variants={itemVariants}\r\n            className=\"mx-auto mb-10 max-w-3xl text-lg text-foreground/70 md:text-2xl\"\r\n          >\r\n            Build living surfaces that respond to every interaction. Craft\r\n            cinematic hero moments, responsive canvases, and luminous gradients\r\n            without leaving your design system.\r\n          </motion.p>\r\n\r\n          <motion.div\r\n            variants={itemVariants}\r\n            className=\"mb-10 flex flex-col items-center justify-center gap-4 sm:flex-row\"\r\n          >\r\n            <Button\r\n              size=\"lg\"\r\n              className=\"group gap-2 rounded-full px-8 text-base uppercase tracking-[0.2em]\"\r\n            >\r\n              Launch Studio\r\n              <ArrowRight\r\n                className=\"h-4 w-4 transition-transform group-hover:translate-x-1\"\r\n                aria-hidden=\"true\"\r\n              />\r\n            </Button>\r\n            <Button\r\n              size=\"lg\"\r\n              variant=\"outline\"\r\n              className=\"rounded-full border-border/40 bg-background/60 px-8 text-base text-foreground/80 backdrop-blur transition-all hover:border-border/60 hover:bg-background/70 dark:border-border/50 dark:bg-background/40 dark:text-foreground/70 dark:hover:border-border/70 dark:hover:bg-background/50\"\r\n            >\r\n              Explore stories\r\n            </Button>\r\n          </motion.div>\r\n\r\n          <motion.ul\r\n            variants={itemVariants}\r\n            className=\"mb-12 flex flex-wrap items-center justify-center gap-3 text-xs uppercase tracking-[0.2em] text-foreground/70 dark:text-foreground/80\"\r\n          >\r\n            {highlightPills.map((pill) => (\r\n              <li\r\n                key={pill}\r\n                className=\"rounded-full border border-border/40 bg-background/60 px-4 py-2 backdrop-blur dark:border-border/60 dark:bg-background/70\"\r\n              >\r\n                {pill}\r\n              </li>\r\n            ))}\r\n          </motion.ul>\r\n\r\n          <motion.div\r\n            variants={statsVariants}\r\n            className=\"grid gap-4 rounded-2xl border border-border/30 bg-background/60 p-6 backdrop-blur-sm dark:border-border/60 dark:bg-background/70 sm:grid-cols-3\"\r\n          >\r\n            {heroStats.map((stat) => (\r\n              <motion.div\r\n                key={stat.label}\r\n                variants={itemVariants}\r\n                className=\"space-y-1\"\r\n              >\r\n                <div className=\"text-xs uppercase tracking-[0.3em] text-foreground/50 dark:text-foreground/60\">\r\n                  {stat.label}\r\n                </div>\r\n                <div className=\"text-3xl font-semibold text-foreground\">\r\n                  {stat.value}\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </motion.div>\r\n        </motion.div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n",
      "type": "registry:block",
      "target": "components/sections/glowy-waves-hero"
    }
  ]
}