{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "fluid-modal-transition",
  "type": "registry:component",
  "title": "Transição de Modal Fluida",
  "description": "Modal que se expande suavemente do elemento gatilho clicado usando layoutId",
  "registryDependencies": [
    "button"
  ],
  "dependencies": [
    "framer-motion",
    "lucide-react",
    "react"
  ],
  "files": [
    {
      "path": "components/motion-core/fluid-modal-transition.tsx",
      "content": "\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport React from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X } from \"lucide-react\";\r\n\r\ntype FluidModalTransitionProps = {\r\n  trigger?: React.ReactNode;\r\n  title?: string;\r\n  children?: React.ReactNode;\r\n};\r\n\r\nexport function FluidModalTransition({\r\n  trigger,\r\n  title = \"Modal Title\",\r\n  children,\r\n}: FluidModalTransitionProps) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  // If no trigger provided, auto-open for preview\r\n  useEffect(() => {\r\n    if (!trigger) {\r\n      setIsOpen(true);\r\n    }\r\n  }, [trigger]);\r\n\r\n  return (\r\n    <>\r\n      {trigger ? (\r\n        <div onClick={() => setIsOpen(true)}>{trigger}</div>\r\n      ) : (\r\n        <button\r\n          onClick={() => setIsOpen(true)}\r\n          className=\"rounded-lg bg-primary px-4 py-2 text-primary-foreground\"\r\n        >\r\n          Open Modal\r\n        </button>\r\n      )}\r\n\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <>\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm\"\r\n            />\r\n\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n              <motion.div\r\n                layoutId=\"modal-content\"\r\n                initial={{ opacity: 0, scale: 0.8 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.8 }}\r\n                transition={{\r\n                  type: \"spring\",\r\n                  stiffness: 300,\r\n                  damping: 30,\r\n                }}\r\n                className=\"relative w-full max-w-lg rounded-2xl border border-border bg-card p-6 shadow-2xl\"\r\n              >\r\n                <div className=\"mb-4 flex items-center justify-between\">\r\n                  <h2 className=\"text-xl font-semibold\">{title}</h2>\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.1, rotate: 90 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    onClick={() => setIsOpen(false)}\r\n                    className=\"flex h-8 w-8 items-center justify-center rounded-full hover:bg-muted\"\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </motion.button>\r\n                </div>\r\n\r\n                <div>\r\n                  {children || (\r\n                    <div>\r\n                      <p className=\"text-muted-foreground mb-4\">\r\n                        This is a fluid modal transition. The modal expands\r\n                        smoothly from the trigger element.\r\n                      </p>\r\n                      <p className=\"text-sm text-muted-foreground\">\r\n                        Click the X button to close.\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/motion-core/fluid-modal-transition"
    }
  ]
}