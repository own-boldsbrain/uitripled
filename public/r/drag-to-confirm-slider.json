{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "drag-to-confirm-slider",
  "type": "registry:component",
  "title": "Slider de Arrastar para Confirmar",
  "description": "Slider que ativa ação apenas quando totalmente arrastado até o fim",
  "registryDependencies": [
    "button"
  ],
  "dependencies": [
    "framer-motion",
    "lucide-react",
    "react"
  ],
  "files": [
    {
      "path": "components/motion-core/drag-to-confirm-slider.tsx",
      "content": "\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion, PanInfo, useMotionValue, useTransform } from \"framer-motion\";\r\nimport { Check } from \"lucide-react\";\r\n\r\ntype DragToConfirmSliderProps = {\r\n  onConfirm?: () => void;\r\n  label?: string;\r\n  confirmText?: string;\r\n};\r\n\r\nexport function DragToConfirmSlider({\r\n  onConfirm,\r\n  label = \"Drag to confirm\",\r\n  confirmText = \"Confirmed!\",\r\n}: DragToConfirmSliderProps) {\r\n  const [isConfirmed, setIsConfirmed] = useState(false);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const x = useMotionValue(0);\r\n\r\n  const progress = useTransform(x, [0, 200], [0, 100]);\r\n  const opacity = useTransform(x, [0, 200], [1, 0]);\r\n  const labelOpacity = useTransform(progress, [0, 100], [1, 0]);\r\n  const width = useTransform(x, [0, 200], [48, 248]);\r\n\r\n  const handleDragEnd = (\r\n    _: MouseEvent | TouchEvent | PointerEvent,\r\n    info: PanInfo\r\n  ) => {\r\n    const currentX = x.get();\r\n    if (currentX >= 180) {\r\n      setIsConfirmed(true);\r\n      if (onConfirm) {\r\n        setTimeout(() => onConfirm(), 300);\r\n      }\r\n    } else {\r\n      x.set(0);\r\n    }\r\n    setIsDragging(false);\r\n  };\r\n\r\n  if (isConfirmed) {\r\n    return (\r\n      <motion.div\r\n        initial={{ scale: 0 }}\r\n        animate={{ scale: 1 }}\r\n        className=\"flex h-12 w-full items-center justify-center rounded-full bg-primary text-primary-foreground\"\r\n      >\r\n        <Check className=\"h-5 w-5\" />\r\n        <span className=\"ml-2 text-sm font-medium\">{confirmText}</span>\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative h-12 w-full max-w-xs overflow-hidden rounded-full border border-border bg-muted\">\r\n      <motion.div\r\n        drag=\"x\"\r\n        dragConstraints={{ left: 0, right: 200 }}\r\n        dragElastic={0}\r\n        onDragStart={() => setIsDragging(true)}\r\n        onDragEnd={handleDragEnd}\r\n        style={{ x, width }}\r\n        className=\"absolute left-0 top-0 flex h-full cursor-grab items-center justify-center rounded-full bg-primary active:cursor-grabbing\"\r\n        whileDrag={{ scale: 1.05 }}\r\n      >\r\n        <motion.div style={{ opacity }} className=\"flex items-center gap-2\">\r\n          <span className=\"text-sm font-medium text-primary-foreground\">→</span>\r\n        </motion.div>\r\n      </motion.div>\r\n\r\n      <div className=\"absolute inset-0 flex items-center justify-center\">\r\n        <motion.span\r\n          style={{ opacity: labelOpacity }}\r\n          className=\"text-sm font-medium text-muted-foreground\"\r\n        >\r\n          {label}\r\n        </motion.span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/motion-core/drag-to-confirm-slider"
    }
  ]
}