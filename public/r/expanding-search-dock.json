{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "expanding-search-dock",
  "type": "registry:component",
  "title": "Doca de Pesquisa Expansível",
  "description": "Ícone de pesquisa mínimo que se expande em entrada completa com desfoque",
  "registryDependencies": [
    "button"
  ],
  "dependencies": [
    "framer-motion",
    "lucide-react",
    "react"
  ],
  "files": [
    {
      "path": "components/motion-core/expanding-search-dock.tsx",
      "content": "\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Search, X } from \"lucide-react\";\r\n\r\ntype ExpandingSearchDockProps = {\r\n  onSearch?: (query: string) => void;\r\n  placeholder?: string;\r\n};\r\n\r\nexport function ExpandingSearchDock({\r\n  onSearch,\r\n  placeholder = \"Search...\",\r\n}: ExpandingSearchDockProps) {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const handleExpand = () => {\r\n    setIsExpanded(true);\r\n  };\r\n\r\n  const handleCollapse = () => {\r\n    setIsExpanded(false);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (onSearch && query) {\r\n      onSearch(query);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <AnimatePresence mode=\"wait\">\r\n        {!isExpanded ? (\r\n          <motion.button\r\n            key=\"icon\"\r\n            initial={{ scale: 0, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            exit={{ scale: 0, opacity: 0 }}\r\n            onClick={handleExpand}\r\n            className=\"flex h-12 w-12 items-center justify-center rounded-full border border-border bg-card transition-colors hover:bg-muted\"\r\n          >\r\n            <Search className=\"h-5 w-5\" />\r\n          </motion.button>\r\n        ) : (\r\n          <motion.form\r\n            key=\"input\"\r\n            initial={{ width: 48, opacity: 0 }}\r\n            animate={{ width: 320, opacity: 1 }}\r\n            exit={{ width: 48, opacity: 0 }}\r\n            transition={{\r\n              type: \"spring\",\r\n              stiffness: 300,\r\n              damping: 30,\r\n            }}\r\n            onSubmit={handleSubmit}\r\n            className=\"relative\"\r\n          >\r\n            <motion.div\r\n              initial={{ backdropFilter: \"blur(0px)\" }}\r\n              animate={{ backdropFilter: \"blur(12px)\" }}\r\n              className=\"relative flex items-center gap-2 overflow-hidden rounded-full border border-border bg-card/80 backdrop-blur-md\"\r\n            >\r\n              <div className=\"ml-4\">\r\n                <Search className=\"h-4 w-4 text-muted-foreground\" />\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                value={query}\r\n                onChange={(e) => setQuery(e.target.value)}\r\n                placeholder={placeholder}\r\n                autoFocus\r\n                className=\"h-12 flex-1 bg-transparent pr-4 text-sm outline-none placeholder:text-muted-foreground\"\r\n              />\r\n              <motion.button\r\n                type=\"button\"\r\n                onClick={handleCollapse}\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                whileHover={{ scale: 1.1 }}\r\n                whileTap={{ scale: 0.9 }}\r\n                className=\"mr-2 flex h-8 w-8 items-center justify-center rounded-full hover:bg-muted\"\r\n              >\r\n                <X className=\"h-4 w-4\" />\r\n              </motion.button>\r\n            </motion.div>\r\n          </motion.form>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/motion-core/expanding-search-dock"
    }
  ]
}