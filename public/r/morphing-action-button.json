{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "morphing-action-button",
  "type": "registry:ui",
  "title": "Botão de Ação Morfing",
  "description": "Um FAB circular que se transforma em um painel de ação retangular usando layoutId",
  "dependencies": [
    "framer-motion",
    "lucide-react",
    "react"
  ],
  "files": [
    {
      "path": "components/motion-core/morphing-action-button.tsx",
      "content": "\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence, LayoutGroup } from \"framer-motion\";\r\nimport { Plus, X } from \"lucide-react\";\r\n\r\ntype ActionItem = {\r\n  label: string;\r\n  icon: React.ReactNode;\r\n  onClick: () => void;\r\n};\r\n\r\ntype MorphingActionButtonProps = {\r\n  actions?: ActionItem[];\r\n  duration?: number;\r\n};\r\n\r\nexport function MorphingActionButton({\r\n  actions = [\r\n    {\r\n      label: \"New Task\",\r\n      icon: <Plus className=\"h-4 w-4\" />,\r\n      onClick: () => {},\r\n    },\r\n    {\r\n      label: \"New Project\",\r\n      icon: <Plus className=\"h-4 w-4\" />,\r\n      onClick: () => {},\r\n    },\r\n    {\r\n      label: \"New Team\",\r\n      icon: <Plus className=\"h-4 w-4\" />,\r\n      onClick: () => {},\r\n    },\r\n  ],\r\n  duration = 0.3,\r\n}: MorphingActionButtonProps) {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <div className=\"fixed bottom-8 right-8 z-50\">\r\n        <LayoutGroup>\r\n          <motion.div\r\n            layout\r\n            className=\"relative\"\r\n            initial={false}\r\n            animate={{\r\n              width: isExpanded ? 280 : 56,\r\n              height: isExpanded ? \"auto\" : 56,\r\n              borderRadius: isExpanded ? 16 : 28,\r\n            }}\r\n            transition={{\r\n              type: \"spring\",\r\n              stiffness: 300,\r\n              damping: 30,\r\n              duration,\r\n            }}\r\n          >\r\n            <motion.button\r\n              onClick={() => setIsExpanded(!isExpanded)}\r\n              className=\"absolute right-0 bottom-0 flex h-14 w-14 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg transition-shadow hover:shadow-xl\"\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n              layoutId=\"fab-button\"\r\n            >\r\n              <AnimatePresence mode=\"wait\">\r\n                {isExpanded ? (\r\n                  <motion.div\r\n                    key=\"close\"\r\n                    initial={{ rotate: -90, opacity: 0 }}\r\n                    animate={{ rotate: 0, opacity: 1 }}\r\n                    exit={{ rotate: 90, opacity: 0 }}\r\n                    transition={{ duration: 0.2 }}\r\n                  >\r\n                    <X className=\"h-5 w-5\" />\r\n                  </motion.div>\r\n                ) : (\r\n                  <motion.div\r\n                    key=\"plus\"\r\n                    initial={{ rotate: 90, opacity: 0 }}\r\n                    animate={{ rotate: 0, opacity: 1 }}\r\n                    exit={{ rotate: -90, opacity: 0 }}\r\n                    transition={{ duration: 0.2 }}\r\n                  >\r\n                    <Plus className=\"h-5 w-5\" />\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </motion.button>\r\n\r\n            <AnimatePresence>\r\n              {isExpanded && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, scale: 0.8 }}\r\n                  animate={{ opacity: 1, scale: 1 }}\r\n                  exit={{ opacity: 0, scale: 0.8 }}\r\n                  transition={{ duration: 0.2, delay: 0.1 }}\r\n                  className=\"absolute bottom-0 right-0 w-64 rounded-2xl border border-border bg-card p-4 shadow-2xl\"\r\n                  layoutId=\"fab-panel\"\r\n                >\r\n                  <div className=\"mb-2 space-y-2\">\r\n                    {actions.map((action, index) => (\r\n                      <motion.button\r\n                        key={action.label}\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        transition={{ delay: index * 0.05 + 0.2 }}\r\n                        onClick={() => {\r\n                          action.onClick();\r\n                          setIsExpanded(false);\r\n                        }}\r\n                        className=\"flex w-full items-center gap-3 rounded-lg px-4 py-3 text-left text-sm transition-colors hover:bg-muted\"\r\n                      >\r\n                        <span className=\"text-muted-foreground\">\r\n                          {action.icon}\r\n                        </span>\r\n                        <span className=\"font-medium\">{action.label}</span>\r\n                      </motion.button>\r\n                    ))}\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </motion.div>\r\n        </LayoutGroup>\r\n      </div>\r\n      {/* Preview indicator - this component uses fixed positioning */}\r\n      <div className=\"mt-2 text-xs text-center text-muted-foreground\">\r\n        Click the button to see morph animation\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/motion-core/morphing-action-button"
    }
  ]
}