{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "scroll-progress-tracker",
  "type": "registry:page",
  "title": "Rastreador de Progresso de Rolagem",
  "description": "Barra de progresso fixa que segue a rolagem e brilha nas mudanças de seção",
  "dependencies": [
    "framer-motion",
    "react"
  ],
  "files": [
    {
      "path": "components/motion-core/scroll-progress-tracker.tsx",
      "content": "\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion, useScroll, useSpring, useTransform } from \"framer-motion\";\r\nimport { useInView } from \"framer-motion\";\r\n\r\ntype ScrollProgressTrackerProps = {\r\n  sections?: string[];\r\n  height?: number;\r\n};\r\n\r\nexport function ScrollProgressTracker({\r\n  sections = [],\r\n  height = 4,\r\n}: ScrollProgressTrackerProps) {\r\n  // Wrap in a container div to avoid fixed positioning issues in preview\r\n  return (\r\n    <div className=\"relative h-16 w-full\">\r\n      <ScrollProgressTrackerInner sections={sections} height={height} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ScrollProgressTrackerInner({\r\n  sections = [],\r\n  height = 4,\r\n}: ScrollProgressTrackerProps) {\r\n  const { scrollYProgress } = useScroll();\r\n  const scaleX = useSpring(scrollYProgress, {\r\n    stiffness: 200,\r\n    damping: 30,\r\n  });\r\n\r\n  const [currentSection, setCurrentSection] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = scrollYProgress.on(\"change\", (latest) => {\r\n      if (sections.length > 0) {\r\n        const sectionIndex = Math.floor(latest * sections.length);\r\n        if (sectionIndex !== currentSection) {\r\n          setCurrentSection(sectionIndex);\r\n        }\r\n      }\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [scrollYProgress, sections.length, currentSection]);\r\n\r\n  const colorProgress = useTransform(\r\n    scrollYProgress,\r\n    [0, 0.5, 1],\r\n    [\"rgb(99, 102, 241)\", \"rgb(139, 92, 246)\", \"rgb(236, 72, 153)\"]\r\n  );\r\n\r\n  return (\r\n    <div className=\"relative h-1 w-full bg-background/50 backdrop-blur-sm\">\r\n      <motion.div\r\n        style={{\r\n          scaleX,\r\n          backgroundColor: sections.length > 0 ? undefined : colorProgress,\r\n        }}\r\n        className=\"h-full origin-left\"\r\n      >\r\n        {sections.length > 0 && (\r\n          <motion.div\r\n            style={{\r\n              backgroundColor: colorProgress,\r\n            }}\r\n            className=\"h-full w-full\"\r\n          />\r\n        )}\r\n      </motion.div>\r\n\r\n      {sections.length > 0 && (\r\n        <motion.div\r\n          style={{\r\n            boxShadow:\r\n              currentSection < sections.length\r\n                ? `0 0 20px ${colorProgress.get()}`\r\n                : \"none\",\r\n          }}\r\n          className=\"pointer-events-none absolute inset-0\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:page",
      "target": "components/motion-core/scroll-progress-tracker"
    }
  ]
}